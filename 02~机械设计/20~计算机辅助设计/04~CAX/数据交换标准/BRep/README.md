# BRep

![BRep 点线面](https://assets.ng-tech.icu/item/BREP_basic_pyramid_zhs.jpg)

边界表达（B-Rep）是目前工业界 CAD/CAM 领域最常见的实体建模方式之一。其基本理念是任何空间三维物体都可以看作是由一系列曲面包围而形成，而这些边界曲面则刚好可以用来表达三维实体。以上图中棱锥体为例，它由 5 个面（绿色）包围而成；每个面又由一些棱边（蓝色）包围；每条棱边有由两个顶点（红色）定义。因此该棱锥体的边界表达则由这些“面-边-顶点”关系的表格共同定义。

![](https://assets.ng-tech.icu/item/BREP_convergent_facet_brep_zhs.jpg)

传统意义上的 B-Rep 模型通常指代连续光滑的解析几何模型，即所谓传统 B-Rep 模型。随着 3D 扫描仪普及，面片模型（包含大量三角形的网格）也变得更加普遍。两种模型各有优劣，而因此经常需要进行互相转化；他们各自的优缺点和特性在上图表中列出。

# BRep 建模的优劣

BRep 建模，即 **B**oundary **Rep**resentation modeling，边界表示法建模，在 CAD 应用中是最常见的建模方法。BRep 是 3D 对象的数学精确表示，这种表示方法定义了实体和非实体之间的几何边界。

BRep 对象的形状和轮廓不是由多边形或顶点这样的可简化对象构建的。相反，一个 BRep 对象由其表面（surface）之间的数学关系定义。

![img](https://assets.ng-tech.icu/item/image-41.png)

例如，注意看上图中的保险杠，这个保险杠不是用较小的组件（如多边形）定义的。相反，它作为独立离散对象存在。保险杠的形状由其表面在 3D 空间中的位置和曲线（相对于 XYZ 轴）进行定义。

创建保险杠这个几何体所需的数学公式如下：

- 其中一个数学公式描述表面的旋转和它在 Y 轴上的大约呈 S 形的曲线。
- 另一个数学公式描述了 Z 轴保险杠底部的肘状凸起。

组合多个精确的数学公式来描述对象在所有轴上的全部表面时，我们就得到了一个 BRep 对象。

## BRep 建模的优势

- BRep 对象是数学精确的，使设计师和工程师能够构建其设计的完美表示
- 与其他建模方法不同，BRep 允许你在不丢失分辨率的情况下放大。BRep 曲线将在放大的每一个级别上保持同样的曲率
- BRep 的数学精度使其非常适合制造应用

## BRep 建模的缺点

- BRep 文件格式是重量级的，它需要存储大量占用磁盘空间的元数据
- 当需要可视化、渲染或动画时 ，BRep 模型需要额外的处理能力
- 有机/自然物体很难用 BRep 的精确数学公式重现

总体而言，BRep 的功能使其成为工程师和设计师的理想格式，但在可视化或渲染方面存在严重限制。

## 混合建模过程

简言之，混合建模（Hybrid Modeling）是将 BRep、多边形、点云和基于体素（Voxel-based）的建模 — 3D 建模的四种主要类型 — 的优点组合成一个工作流。

一些软件开发套件（如[Spatial 的 CGM）](https://www.spatial.com/products/cgm?hsLang=en-us)允许 3D 开发人员将混合建模功能本地构建到其工具集中。这允许设计师和工程师在不同的建模类型之间无缝切换，而不会在这个过程中丢失任何数据。它允许工程师对其 BRep 文件进行仿真，并利用得到的洞察自动调整其模型。

强大的混合建模软件意味着可以缩短模型准备过程，并填补 3D 模型的典型空白，如在粒子基础上模拟工程模型的行为。
